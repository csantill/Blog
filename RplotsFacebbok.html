<!DOCTYPE html>
<html lang="en-US"  prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Sadanand Singh" />
        <meta name="copyright" content="Sadanand Singh" />

<meta name="keywords" content="Data, R, R, Data Science, Statistics, " />
        <title>Pseudo Facebook Data - Plots in&nbsp;R  · Sadanand's Notes
</title>
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
        <link href="http://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://sadanand-singh.github.io/theme/css/style.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://sadanand-singh.github.io/theme/css/github.css" media="screen">
        <link rel="shortcut icon" href="http://sadanand-singh.github.io/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-144x144.png" />
        <link rel="icon" href="http://sadanand-singh.github.io/theme/images/apple-touch-icon-144x144.png" />

            <meta property="fb:app_id" content="993596464012237"/>
        <meta property="og:site_name" content="Sadanand's Notes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Pseudo Facebook Data - Plots in R"/>
        <meta property="og:url" content="http://sadanand-singh.github.io/RplotsFacebbok"/>
        <meta property="og:description" content="Intro to R Plots Using Facebook Data"/>
        <meta property="article:published_time" content="2015-12-09" />
            <meta property="article:section" content="R, Data Science, Statistics" />
            <meta property="article:tag" content="Data" />
            <meta property="article:tag" content="R" />
            <meta property="article:author" content="Sadanand Singh" />
            <meta property="og:image"
                  content="http://sadanand-singh.github.io//theme/images/apple-touch-icon-152x152.png"/>

            <meta name="twitter:card" content="summary">
                <meta name="twitter:site" content="@sadanandsingh">
                <meta name="twitter:creator" content="@sadanandsingh">
            <meta name="twitter:domain" content="http://sadanand-singh.github.io">
                    <meta property="twitter:image"
                          content="http://sadanand-singh.github.io//theme/images/apple-touch-icon-152x152.png"/>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-54080172-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
    </head>
    <body>
        <script>
            window.fbAsyncInit = function() {
                FB.init({
                  appId      : "993596464012237",
                  xfbml      : true,
                  version    : 'v2.5'
                });
              };

            (function(d, s, id){
             var js, fjs = d.getElementsByTagName(s)[0];
             if (d.getElementById(id)) {return;}
             js = d.createElement(s); js.id = id;
             js.src = "//connect.facebook.net/en_US/sdk.js";
             fjs.parentNode.insertBefore(js, fjs);
           }(document, 'script', 'facebook-jssdk'));
        </script>

        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://sadanand-singh.github.io/"><span class=site-name>Sadanand's Notes</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://sadanand-singh.github.io">Home</a></li>
                            <li ><a href="http://sadanand-singh.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://sadanand-singh.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://sadanand-singh.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://sadanand-singh.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page_header span10 offset2">
    <h1><a href="http://sadanand-singh.github.io/RplotsFacebbok"> Pseudo Facebook Data - Plots in&nbsp;R  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

<a href="https://twitter.com/share"
  class="twitter-share-button"
  data-via="sadanandsingh"
  data-related="sadanandsingh">Tweet</a>
  <script>
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
  </script>

<div class="fb-like"
  data-href="http://sadanand-singh.github.io/RplotsFacebbok"
  data-layout="standard"
  data-action="like"
  data-show-faces="false"
  data-share="true">
</div>
            <p>In this post, we will learn about <span class="caps">EDA</span> of single variables using simple plots like histograms, frequency plots and box&nbsp;plots.</p>
<p>Data sets used below are part of a project from the <span class="caps">UD651</span> course on <a href="https://www.udacity.com/">udacity</a> by&nbsp;Facebook.</p>
<p>The data from the project corresponds to a typical data set at <a href="http://facebook.com">Facebook</a>. You can load the data through the following command. Notice that this is a <TAB> delimited csv file. This data set consists of 99000 rows of data. We will see the details of different columns using the command&nbsp;below.</p>
<div class="highlight"><pre>pf <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;https://s3.amazonaws.com/udacity-hosted-downloads/ud651/pseudo_facebook.tsv&quot;</span><span class="p">,</span> sep <span class="o">=</span> <span class="s">&#39;\t&#39;</span><span class="p">)</span>
str<span class="p">(</span>pf<span class="p">)</span>
</pre></div>


<div class="highlight"><pre>## &#39;data.frame&#39;:    99003 obs. of  15 variables:
##  $ userid               : int  2094382 1192601 2083884 1203168 1733186 1524765 1136133 1680361 1365174 1712567 ...
##  $ age                  : int  14 14 14 14 14 14 13 13 13 13 ...
##  $ dob_day              : int  19 2 16 25 4 1 14 4 1 2 ...
##  $ dob_year             : int  1999 1999 1999 1999 1999 1999 2000 2000 2000 2000 ...
##  $ dob_month            : int  11 11 11 12 12 12 1 1 1 2 ...
##  $ gender               : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 2 1 2 1 2 2 2 1 2 2 ...
##  $ tenure               : int  266 6 13 93 82 15 12 0 81 171 ...
##  $ friend_count         : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ friendships_initiated: int  0 0 0 0 0 0 0 0 0 0 ...
##  $ likes                : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ likes_received       : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ mobile_likes         : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ mobile_likes_received: int  0 0 0 0 0 0 0 0 0 0 ...
##  $ www_likes            : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ www_likes_received   : int  0 0 0 0 0 0 0 0 0 0 ...
</pre></div>


<p>The goal of this analysis is to understand user behavior and their demographics. We want to understand what they are doing on the Facebook and what they use. Please note this is not a real Facebook&nbsp;dataset.</p>
<p>Our goal is to do some basic <span class="caps">EDA</span> (Exploratory Data Analysis) to understand any underlying patterns in the data.
We will first look at a histogram of User&#8217;s&nbsp;Birthdays.</p>
<div class="highlight"><pre><span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span>
qplot<span class="p">(</span>data <span class="o">=</span> pf<span class="p">,</span> x <span class="o">=</span> dob_day <span class="p">)</span> <span class="o">+</span>
  scale_x_discrete<span class="p">(</span>breaks<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">31</span><span class="p">)</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-2" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-2-1.png" /> </p>
<p>We see some peculiar behavior of the data on the 1st of the month. Let us plot this data in more detail, in per month&nbsp;basis.</p>
<div class="highlight"><pre>qplot<span class="p">(</span>data <span class="o">=</span> pf<span class="p">,</span> x <span class="o">=</span> dob_day <span class="p">)</span> <span class="o">+</span>
  scale_x_discrete<span class="p">(</span>breaks<span class="o">=</span><span class="kp">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">31</span><span class="p">,</span><span class="m">4</span><span class="p">))</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>dob_month<span class="p">,</span> ncol <span class="o">=</span> <span class="m">3</span><span class="p">)</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-3" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-3-1.png" /> </p>
<p>This explains the above plot. Because of the default settings, or users privacy concerns, numerous people have 1/1 as their&nbsp;birthdays!</p>
<p>Now, let us explore the distribution of friend counts in this&nbsp;data.</p>
<div class="highlight"><pre>qplot<span class="p">(</span>data <span class="o">=</span> pf<span class="p">,</span> x <span class="o">=</span> friend_count<span class="p">,</span> binwidth <span class="o">=</span> <span class="m">25</span><span class="p">,</span> color <span class="o">=</span> <span class="kp">I</span><span class="p">(</span><span class="s">&#39;black&#39;</span><span class="p">),</span> fill <span class="o">=</span> <span class="kp">I</span><span class="p">(</span><span class="s">&#39;#099DD9&#39;</span><span class="p">))</span> <span class="o">+</span>
  theme<span class="p">(</span>axis.text.x<span class="o">=</span>element_text<span class="p">(</span>color <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">11</span><span class="p">,</span> angle<span class="o">=</span><span class="m">30</span><span class="p">,</span> vjust<span class="o">=</span><span class="m">.8</span><span class="p">,</span> hjust<span class="o">=</span><span class="m">0.8</span><span class="p">))</span> <span class="o">+</span>
  scale_x_continuous<span class="p">(</span>limits <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1000</span><span class="p">),</span> breaks <span class="o">=</span> <span class="kp">seq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1000</span><span class="p">,</span> <span class="m">50</span><span class="p">))</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-4" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-4-1.png" /> </p>
<p>We see the data has some outlier near 5000. This is an example of a long tail data. We want our analysis to be focused on the bunch of Facebook users, so we need to limit the axes of these plots. Additionally, we also want to look at these data as a function of gender. However, We also want to remove any data where gender is <span class="caps">NA</span>.</p>
<div class="highlight"><pre>qplot<span class="p">(</span>data <span class="o">=</span> <span class="kp">subset</span><span class="p">(</span>pf<span class="p">,</span> <span class="o">!</span><span class="kp">is.na</span><span class="p">(</span>gender<span class="p">)),</span> x <span class="o">=</span> friend_count<span class="p">,</span> binwidth <span class="o">=</span> <span class="m">25</span><span class="p">,</span>
      color <span class="o">=</span> <span class="kp">I</span><span class="p">(</span><span class="s">&#39;black&#39;</span><span class="p">),</span> fill <span class="o">=</span> <span class="kp">I</span><span class="p">(</span><span class="s">&#39;#099DD9&#39;</span><span class="p">))</span> <span class="o">+</span>
  theme<span class="p">(</span>axis.text.x<span class="o">=</span>element_text<span class="p">(</span>color <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">11</span><span class="p">,</span> angle<span class="o">=</span><span class="m">30</span><span class="p">,</span> vjust<span class="o">=</span><span class="m">.8</span><span class="p">,</span> hjust<span class="o">=</span><span class="m">0.8</span><span class="p">))</span> <span class="o">+</span>
  scale_x_continuous<span class="p">(</span>limits <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1000</span><span class="p">),</span> breaks <span class="o">=</span> <span class="kp">seq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1000</span><span class="p">,</span> <span class="m">100</span><span class="p">))</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>gender<span class="p">)</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-5" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-5-1.png" /> </p>
<p>If we want to know, mean statistics of our data, we can use the table&nbsp;command.</p>
<div class="highlight"><pre><span class="kp">table</span><span class="p">(</span>pf<span class="o">$</span>gender<span class="p">)</span>
</pre></div>


<div class="highlight"><pre>## 
## female   male 
##  40254  58574
</pre></div>


<div class="highlight"><pre><span class="kp">by</span><span class="p">(</span>pf<span class="o">$</span>friend_count<span class="p">,</span> pf<span class="o">$</span>gender<span class="p">,</span> <span class="kp">summary</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span class="cp">##</span><span class="c"> pf$gender: female</span><span class="x"></span>
<span class="cp">##</span><span class="c">    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span><span class="x"></span>
<span class="cp">##</span><span class="c">       0      37      96     242     244    4923 </span><span class="x"></span>
<span class="cp">##</span><span class="c"> -------------------------------------------------------- </span><span class="x"></span>
<span class="cp">##</span><span class="c"> pf$gender: male</span><span class="x"></span>
<span class="cp">##</span><span class="c">    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span><span class="x"></span>
<span class="cp">##</span><span class="c">       0      27      74     165     182    4917</span><span class="x"></span>
</pre></div>


<p>Let us know look at the tenure of usage (measured in Years) of&nbsp;Facebook.</p>
<div class="highlight"><pre>qplot<span class="p">(</span>data <span class="o">=</span> pf<span class="p">,</span> x <span class="o">=</span> tenure<span class="o">/</span><span class="m">365</span><span class="p">,</span> binwidth <span class="o">=</span> <span class="m">0.25</span><span class="p">,</span>
      color <span class="o">=</span> <span class="kp">I</span><span class="p">(</span><span class="s">&#39;black&#39;</span><span class="p">),</span> fill <span class="o">=</span> <span class="kp">I</span><span class="p">(</span><span class="s">&#39;#F79420&#39;</span><span class="p">))</span> <span class="o">+</span>
  scale_x_continuous<span class="p">(</span>breaks <span class="o">=</span> <span class="kp">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">1</span><span class="p">),</span> lim <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">7</span><span class="p">))</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&#39;Number of years using Facebook&#39;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&#39;Number of users in sample&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-7" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-7-1.png" /> </p>
<p>We will now look at any pattern in the ages of Facebook users in this&nbsp;dataset.</p>
<div class="highlight"><pre>qplot<span class="p">(</span>data <span class="o">=</span> pf<span class="p">,</span> x <span class="o">=</span> age<span class="p">,</span> binwidth <span class="o">=</span> <span class="m">1</span><span class="p">,</span>
      color <span class="o">=</span> <span class="kp">I</span><span class="p">(</span><span class="s">&#39;black&#39;</span><span class="p">),</span> fill <span class="o">=</span> <span class="kp">I</span><span class="p">(</span><span class="s">&#39;#5760AB&#39;</span><span class="p">))</span> <span class="o">+</span>
  scale_x_continuous<span class="p">(</span>breaks <span class="o">=</span> <span class="kp">seq</span><span class="p">(</span><span class="m">8</span><span class="p">,</span><span class="m">113</span><span class="p">,</span><span class="m">5</span><span class="p">),</span> lim <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">8</span><span class="p">,</span><span class="m">113</span><span class="p">))</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&#39;Age of Users in Years&#39;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&#39;Number of users in sample&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-8" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-8-1.png" /> </p>
<p>One general theme of observation here is that most of the data have a long tail. In these circumstances, it is better to look at such data after certain types of transformation. Let us do such an analysis of&nbsp;&#8220;friend_count&#8221;.</p>
<div class="highlight"><pre><span class="kn">library</span><span class="p">(</span>gridExtra<span class="p">)</span>
plot1 <span class="o">&lt;-</span> ggplot<span class="p">(</span>data <span class="o">=</span> pf<span class="p">,</span> aes<span class="p">(</span>x <span class="o">=</span> friend_count<span class="p">))</span> <span class="o">+</span> geom_histogram<span class="p">()</span>
plot2 <span class="o">&lt;-</span> plot1 <span class="o">+</span> scale_x_log10<span class="p">()</span>
plot3 <span class="o">&lt;-</span> plot1 <span class="o">+</span> scale_x_sqrt<span class="p">()</span>
grid.arrange<span class="p">(</span>plot1<span class="p">,</span> plot2<span class="p">,</span> plot3<span class="p">,</span> ncol <span class="o">=</span> <span class="m">1</span><span class="p">)</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-9" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-9-1.png" /> </p>
<p>Let us try to compare distribution of male vs female friend&nbsp;counts.</p>
<div class="highlight"><pre>ggplot<span class="p">(</span>aes<span class="p">(</span>x <span class="o">=</span> friend_count<span class="p">,</span> y <span class="o">=</span> <span class="m">..</span>density..<span class="o">/</span><span class="kp">sum</span><span class="p">(</span><span class="m">..</span>density..<span class="p">)),</span> data <span class="o">=</span> <span class="kp">subset</span><span class="p">(</span>pf<span class="p">,</span> <span class="o">!</span><span class="kp">is.na</span><span class="p">(</span>gender<span class="p">)))</span> <span class="o">+</span>
  geom_freqpoly<span class="p">(</span>aes<span class="p">(</span>color <span class="o">=</span> gender<span class="p">),</span> binwidth<span class="o">=</span><span class="m">10</span><span class="p">)</span> <span class="o">+</span>
  scale_x_continuous<span class="p">(</span>limits <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1000</span><span class="p">),</span> breaks <span class="o">=</span> <span class="kp">seq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1000</span><span class="p">,</span> <span class="m">100</span><span class="p">))</span> <span class="o">+</span>
  theme<span class="p">(</span>axis.text.x<span class="o">=</span>element_text<span class="p">(</span>color <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">11</span><span class="p">,</span> angle<span class="o">=</span><span class="m">30</span><span class="p">,</span> vjust<span class="o">=</span><span class="m">.8</span><span class="p">,</span> hjust<span class="o">=</span><span class="m">0.8</span><span class="p">))</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&#39;Friend Count&#39;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&#39;Percentage of users with that friend count&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-10" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-10-1.png" /> </p>
<p>Similarly, we can compare distributions of www&nbsp;likes.</p>
<div class="highlight"><pre>ggplot<span class="p">(</span>aes<span class="p">(</span>x <span class="o">=</span> www_likes<span class="p">,</span> y <span class="o">=</span> <span class="m">..</span>count..<span class="o">/</span><span class="kp">sum</span><span class="p">(</span><span class="m">..</span>count..<span class="p">)),</span> data <span class="o">=</span> <span class="kp">subset</span><span class="p">(</span>pf<span class="p">,</span> <span class="o">!</span><span class="kp">is.na</span><span class="p">(</span>gender<span class="p">)))</span> <span class="o">+</span>
  geom_freqpoly<span class="p">(</span>aes<span class="p">(</span>color <span class="o">=</span> gender<span class="p">),</span> binwidth<span class="o">=</span><span class="m">1</span><span class="p">)</span> <span class="o">+</span>
  scale_x_log10<span class="p">()</span><span class="o">+</span>
  theme<span class="p">(</span>axis.text.x<span class="o">=</span>element_text<span class="p">(</span>color <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">11</span><span class="p">,</span> angle<span class="o">=</span><span class="m">30</span><span class="p">,</span> vjust<span class="o">=</span><span class="m">.8</span><span class="p">,</span> hjust<span class="o">=</span><span class="m">0.8</span><span class="p">))</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&#39;www Likes Count&#39;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&#39;Percentage of users with that www likes count&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-11" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-11-1.png" /> </p>
<p>Numerically, the two curves can quantified&nbsp;as:</p>
<div class="highlight"><pre><span class="kp">by</span><span class="p">(</span>pf<span class="o">$</span>www_likes<span class="p">,</span> pf<span class="o">$</span>gender<span class="p">,</span> <span class="kp">sum</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span class="cp">##</span><span class="c"> pf$gender: female</span><span class="x"></span>
<span class="cp">##</span><span class="c"> [1] 3507665</span><span class="x"></span>
<span class="cp">##</span><span class="c"> -------------------------------------------------------- </span><span class="x"></span>
<span class="cp">##</span><span class="c"> pf$gender: male</span><span class="x"></span>
<span class="cp">##</span><span class="c"> [1] 1430175</span><span class="x"></span>
</pre></div>


<p>We can also compare two distributions graphically using &#8220;box plots&#8221;. We can also look at the actual value using the by command. Here, we are trying to understand which gender initiated more&nbsp;friendships.</p>
<div class="highlight"><pre>qplot<span class="p">(</span>x <span class="o">=</span> gender<span class="p">,</span> y <span class="o">=</span> friendships_initiated<span class="p">,</span> data <span class="o">=</span> <span class="kp">subset</span><span class="p">(</span>pf<span class="p">,</span> <span class="o">!</span><span class="kp">is.na</span><span class="p">(</span>gender<span class="p">)),</span> geom <span class="o">=</span> <span class="s">&#39;boxplot&#39;</span><span class="p">)</span><span class="o">+</span>
  coord_cartesian<span class="p">(</span>ylim <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">200</span><span class="p">))</span>
</pre></div>


<p><img alt="plot of chunk unnamed-chunk-13" src="http://sadanand-singh.github.io/images/R/pfacebook_unnamed-chunk-13-1.png" /> </p>
<div class="highlight"><pre><span class="kp">by</span><span class="p">(</span>pf<span class="o">$</span>friendships_initiated<span class="p">,</span> pf<span class="o">$</span>gender<span class="p">,</span> <span class="kp">summary</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span class="cp">##</span><span class="c"> pf$gender: female</span><span class="x"></span>
<span class="cp">##</span><span class="c">    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span><span class="x"></span>
<span class="cp">##</span><span class="c">     0.0    19.0    49.0   113.9   124.8  3654.0 </span><span class="x"></span>
<span class="cp">##</span><span class="c"> -------------------------------------------------------- </span><span class="x"></span>
<span class="cp">##</span><span class="c"> pf$gender: male</span><span class="x"></span>
<span class="cp">##</span><span class="c">    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span><span class="x"></span>
<span class="cp">##</span><span class="c">     0.0    15.0    44.0   103.1   111.0  4144.0</span><span class="x"></span>
</pre></div>


<p>Note the use of coord_cartesian in the above plot. Use of this method ensures that numerical vale of median and shown value in the plot match, as this does not modify the actual data for the plotting&nbsp;purpose.</p>
<p>Next, we want to understand if users have used certain features of Facebook or not. If we look at the summary of mobile_likes variable, median is close to 0, indicating a lot many users with 0 values for this variable. We can look also look at the logical value if value of this quantity is non-zero. We can additionally create a new variable called mobile_check_in that takes a value 1 if mobile_likes os&nbsp;non-zero.</p>
<div class="highlight"><pre><span class="kp">summary</span><span class="p">(</span>pf<span class="o">$</span>mobile_likes<span class="p">)</span>
</pre></div>


<div class="highlight"><pre>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     0.0     0.0     4.0   106.1    46.0 25110.0
</pre></div>


<div class="highlight"><pre><span class="kp">summary</span><span class="p">(</span>pf<span class="o">$</span>mobile_likes <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre>##    Mode   FALSE    TRUE    NA&#39;s 
## logical   35056   63947       0
</pre></div>


<div class="highlight"><pre>mobile_check_in <span class="o">&lt;-</span> <span class="kc">NA</span>
pf<span class="o">$</span>mobile_check_in <span class="o">&lt;-</span> <span class="kp">factor</span><span class="p">(</span><span class="kp">ifelse</span><span class="p">(</span>pf<span class="o">$</span>mobile_likes <span class="o">&gt;</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">))</span>
<span class="kp">summary</span><span class="p">(</span>pf<span class="o">$</span>mobile_check_in<span class="p">)</span>
</pre></div>


<div class="highlight"><pre>##     0     1 
## 35056 63947
</pre></div>


<p>We can find percentage of people who have done mobile check&nbsp;in.</p>
<div class="highlight"><pre><span class="kp">sum</span><span class="p">(</span>pf<span class="o">$</span>mobile_check_in <span class="o">==</span> <span class="m">1</span><span class="p">)</span><span class="o">/</span><span class="kp">length</span><span class="p">(</span>pf<span class="o">$</span>mobile_check_in<span class="p">)</span>
</pre></div>


<div class="highlight"><pre>## [1] 0.6459097
</pre></div>


<p>We find that about 65% of people have used mobile devices for check in and hence it would be a good decision to continue development of such&nbsp;products.</p>
<p>In summary, here we have learnt to make inferences about single variable data using a combination of plots - histograms, box plots and frequency plots; along with various numerical&nbsp;data.</p>

<a href="https://twitter.com/share"
  class="twitter-share-button"
  data-via="sadanandsingh"
  data-related="sadanandsingh">Tweet</a>
  <script>
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
  </script>

<div class="fb-like"
  data-href="http://sadanand-singh.github.io/RplotsFacebbok"
  data-layout="standard"
  data-action="like"
  data-show-faces="false"
  data-share="true">
</div>
<section>
<p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                    data-disqus-identifier="RplotsFacebbok.sadanand"
                href="http://sadanand-singh.github.io/RplotsFacebbok#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'sadanandsblog';
        var disqus_identifier = 'RplotsFacebbok.sadanand';
    var disqus_url = 'http://sadanand-singh.github.io/RplotsFacebbok';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>                </div>
            </div>
        </div>
    </div>
</div>
</section>

            <aside>
            <hr/>
            <nav>
            <ul class="articles_timeline">
                <li class="previous_article">« <a href="http://sadanand-singh.github.io/RIntroReddit" title="Previous: Reddit Survey: Introduction to&nbsp;R">Reddit Survey: Introduction to&nbsp;R</a></li>
                <li class="next_article"><a href="http://sadanand-singh.github.io/RplotsTwoVariables" title="Next: Pseudo Facebook Data - Exploring Two&nbsp;Variables">Pseudo Facebook Data - Exploring Two&nbsp;Variables</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2015-12-09T18:05:00-08:00">Dec 9, 2015</time>
            <h4>Last Updated</h4>
            <div class="last_updated">2015-12-08 20:45:00-08:00</div>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#R,-Data-Science,-Statistics-ref">R, Data Science, Statistics</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#Data-ref">Data
                    <span>3</span>
</a></li>
                <li><a href="/tags.html#R-ref">R
                    <span>3</span>
</a></li>
            </ul>

<h4>Stay in Touch</h4>
<a href="https://twitter.com/sadanandsingh"
class="twitter-follow-button"
data-show-count="false" data-size="large">Follow @sadanandsingh </a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

    <a href="http://twitter.com/sadanandsingh" title="My Twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="https://www.facebook.com/sadanand4singh" title="My Facebook Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-facebook sidebar-social-links"></i></a>
    <a href="http://github.com/sadanand-singh" title="My Github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="https://www.linkedin.com/in/sadanandsingh" title="My Linkedin Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-linkedin sidebar-social-links"></i></a>

        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-license"><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"> "Sadanand's Notes" </span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://sadanand-singh.github.io" property="cc:attributionName" rel="cc:attributionURL">Sadanand Singh</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</li>
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

<script type="text/javascript">
    var disqus_shortname = 'sadanandsblog';

    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
        <script  language="javascript" type="text/javascript">
            function uncollapse() {
                var hash_str = window.location.hash;
                if (window.location.hash.match(/^#comment-\d+$/))
                {
                    var hash_str = '#disqus_thread';
                }
                $(hash_str).collapse({
                    toggle: true
                    })
            }
        </script>

        <script type="text/javascript" language="JavaScript">
            uncollapse();
        </script>
    </body>
</html>